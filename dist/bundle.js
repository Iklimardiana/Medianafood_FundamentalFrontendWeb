(()=>{"use strict";!function(){var t="https://www.themealdb.com/api/json/v1/1",n=document.querySelector(".Food-category"),e=document.querySelector(".container"),c=document.querySelector(".food-detail"),o=document.querySelector(".search-form"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Check your internet connection";n.innerHTML="<p>".concat(t,"</p>")};o.addEventListener("submit",(function(t){t.preventDefault();var n=document.querySelector(".search-input").value;i(n)}));var r=function(n){fetch("".concat(t,"/filter.php?c=").concat(n)).then((function(t){return t.json()})).then((function(t){t.error?a(t.message):l(t.meals)})).catch((function(t){a(t)}))},i=function(n){fetch("".concat(t,"/search.php?s=").concat(n)).then((function(t){return t.json()})).then((function(t){t.error?a(t.message):l(t.meals)})).catch((function(t){a(t)}))},l=function(e){n.innerHTML="",e&&e.length>0?(e.forEach((function(t){var e="\n              <li>\n                <h3>".concat(t.strMeal,'</h3>\n                <button data-id="').concat(t.idMeal,'" class="detail-btn">Detail</button>\n              </li>\n            ');n.innerHTML+=e})),document.querySelectorAll(".detail-btn").forEach((function(e){e.addEventListener("click",(function(e){var o,r=e.target.getAttribute("data-id");e.preventDefault(),o=r,fetch("".concat(t,"/lookup.php?i=").concat(o)).then((function(t){return t.json()})).then((function(t){t.error?a(t.message):function(t){n.innerHTML="",n.style.display="none",c.style.display="block";var e='\n        <img src="'.concat(t.strMealThumb,'" alt="').concat(t.strMeal,'">\n        <h1>').concat(t.strMeal,"</h1>\n        <h2>Category: ").concat(t.strCategory,"</h2>\n        <h2>Area: ").concat(t.strArea,"</h2>\n        <p>").concat(t.strInstructions,"</p>\n      ");c.innerHTML=e}(t.meals[0])})).catch((function(t){a(t)}))}))}))):a("No food data found")};document.addEventListener("DOMContentLoaded",(function(){fetch("".concat(t,"/categories.php")).then((function(t){return t.json()})).then((function(t){t.error?a(t.message):(function(t){var o=document.createElement("ul");o.classList.add("Food-category"),e.appendChild(o),t.forEach((function(t){var n='\n            <li>\n              <h3 data-kategori="'.concat(t.strCategory,'">').concat(t.strCategory,"</h3>\n            </li>\n          ");o.innerHTML+=n}));var a=document.querySelectorAll(".Food-category h3");a.forEach((function(t){"none"!==c.style.display&&"none"===n&&t.addEventListener("click",(function(t){var e=t.target.getAttribute("data-kategori");t.preventDefault(),c.style.display="none",n.style.display="block",r(e)}))})),a.forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.getAttribute("data-kategori");t.preventDefault(),"none"!==c.style.display&&"none"===n?c.style.display="none":"none"!==c.style.display&&"none"!==n&&(r(e),n.style.display="block")}))}))}(t.categories),n.style.display="block",r("beef"))})).catch((function(t){a(t)}))}))}()})();